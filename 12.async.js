(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{"/XDU":function(e,t,a){"use strict";var n=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("g9YV");var r=n(a("wCAj"));a("+L6B");var u=n(a("2/Rp")),i=n(a("d6i3")),d=n(a("p0pE")),s=n(a("1l/V")),c=n(a("2Taf")),o=n(a("vZ4D")),f=n(a("l4Ni")),p=n(a("ujKo")),h=n(a("MhPg"));a("OaEy");var m,v,w=n(a("2fM7")),g=l(a("q1tI")),y=n(a("mOP9")),S=n(a("usdK")),x=a("dCQc"),k=n(a("Cq5g")),b=n(a("bT3a")),_=n(a("/wHq")),E=n(a("QqXm")),M=(w.default.Option,(0,b.default)((v=function(e){function t(){var e;return(0,c.default)(this,t),e=(0,f.default)(this,(0,p.default)(t).call(this)),e.getSignal=(0,s.default)(i.default.mark(function t(){var a,n,l,r,u,s;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a={page:e.state.curPage},t.next=4,(0,x.get_boss_signal)({query:a});case 4:n=t.sent,l=n.total,r=n.data,u=[{id:1,name:"\u56fa\u5b9a"},{id:2,name:"\u500d\u6570\u8ddf\u5355"},{id:3,name:"\u8d44\u91d1\u6bd4\u4f8b"}],s=r.map(function(e){var t={0:"\u505c\u6b62",1:"\u6b63\u5e38",2:"\u9690\u85cf"},a=u.map(function(t){var a=e.signal_follow_type.find(function(e){return e.type===t.id});return"".concat(t.name,a?"(\u5f00)":"(\u5173)")});return(0,d.default)({key:e.id,time:"-",userShowTxt:t[e.status],followWayArr:a,duration:"-"},e)}),e.setState({total:l,list:s}),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),window.$errorHandler(t.t0)();case 14:case"end":return t.stop()}},t,null,[[0,11]])})),e.toEditPage=function(e){S.default.push("/documentary/signalSource/edit?id="+e)},e.showUpdate=function(e){E.default.emit("show-signal-update",e)},e.showEdit=function(){E.default.emit("show-user-edit",!0)},e.onChange=function(){var t=(0,s.default)(i.default.mark(function t(a){return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.setState({curPage:a});case 2:e.getSignal();case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.handleHideModalOk=(0,s.default)(i.default.mark(function t(){return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.put_signal_hide();case 2:e.setState({isHideModalShow:!1});case 3:case"end":return t.stop()}},t)})),e.handleHideModalCancel=function(){e.setState({isHideModalShow:!1})},e.handleShowModalOk=(0,s.default)(i.default.mark(function t(){return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.put_signal_show();case 2:e.setState({isShowModalShow:!1});case 3:case"end":return t.stop()}},t)})),e.handleShowModalCancel=function(){e.setState({isShowModalShow:!1})},e.handleDeleteModalOk=(0,s.default)(i.default.mark(function t(){return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.del_signal();case 2:e.setState({isDeleteModalShow:!1});case 3:case"end":return t.stop()}},t)})),e.handleDeleteModalCancel=function(){e.setState({isDeleteModalShow:!1})},e.state={curPage:1,isHideModalShow:!1,isShowModalShow:!1,isDeleteModalShow:!1,activeId:void 0,total:0,list:[]},e}return(0,h.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.getSignal()}},{key:"del_signal",value:function(){var e=(0,s.default)(i.default.mark(function e(){var t;return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t={id:this.state.activeId},e.next=4,(0,x.del_signal)({query:t});case 4:e.sent,this.getSignal(),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),window.$errorHandler(e.t0)();case 11:case"end":return e.stop()}},e,this,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"put_signal_hide",value:function(){var e=(0,s.default)(i.default.mark(function e(){var t;return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t={id:this.state.activeId},e.next=4,(0,x.put_signal_hide)({query:t});case 4:e.sent,this.getSignal(),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),window.$errorHandler(e.t0)();case 11:case"end":return e.stop()}},e,this,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"put_signal_show",value:function(){var e=(0,s.default)(i.default.mark(function e(){var t;return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t={id:this.state.activeId},e.next=4,(0,x.put_signal_show)({query:t});case 4:e.sent,this.getSignal(),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),window.$errorHandler(e.t0)();case 11:case"end":return e.stop()}},e,this,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"render",value:function(){var e=this,t=this.state,a=t.isHideModalShow,n=t.isDeleteModalShow,l=t.isShowModalShow,i=t.list,d=t.total,s=t.activeId,c=[{title:"\u4fe1\u53f7\u6e90\u540d",dataIndex:"name",align:"center"},{title:"\u5728\u7ebf\u72b6\u6001",align:"center",dataIndex:"online",render:function(e){return g.default.createElement("span",{className:1===e?"color-success":"color-error"},1===e?"\u5728\u7ebf":0===e?"\u79bb\u7ebf":"\u6682\u65e0")}},{title:"\u7528\u6237\u5c55\u793a",dataIndex:"userShowTxt",align:"center",render:function(e,t){return g.default.createElement("span",{style:1===t.status?{color:"green"}:{}},e)}},{title:"\u8ddf\u5355\u65b9\u5f0f\u8bbe\u7f6e",align:"center",dataIndex:"followWayArr",render:function(e,t){return g.default.createElement("span",{className:"flex-box flex-v-box"},e.map(function(e,t){return g.default.createElement("span",{key:t},e)}))}},{title:"\u64cd\u4f5c",align:"center",key:"action",render:function(t,a){return g.default.createElement("span",null,g.default.createElement("a",{onClick:function(){return e.toEditPage(a.id)},href:"javascript:;",className:" cur-pointer",style:{padding:"0 10px"}},"\u4fee\u6539"),g.default.createElement("a",{onClick:function(){return e.showUpdate(a.id)},href:"javascript:;",className:"bd-lf cur-pointer",style:{padding:"0 10px"}},"\u66f4\u65b0"),g.default.createElement("a",{onClick:function(){1===a.status?e.setState({isHideModalShow:!0,activeId:a.id}):e.setState({isShowModalShow:!0,activeId:a.id})},href:"javascript:;",className:"bd-lf cur-pointer",style:{padding:"0 10px"}},1===a.status?"\u9690\u85cf":"\u5f00\u542f"),g.default.createElement("a",{onClick:function(){return e.setState({isDeleteModalShow:!0,activeId:a.id})},href:"javascript:;",className:"bd-lf cur-pointer",style:{padding:"0 10px"}},"\u5220\u9664"))}}],o={showQuickJumper:!0,defaultCurrent:1,total:d,onChange:this.onChange,style:{paddingRight:"20px"}},f=function(){return g.default.createElement(_.default,{title:"\u9690\u85cf\u4fe1\u53f7\u6e90",width:350,visible:a,onCancel:e.handleHideModalCancel,onOk:e.handleHideModalOk},g.default.createElement("span",null,"\u5728\u7528\u6237\u9875\u9762\u9690\u85cf\u8be5\u4fe1\u53f7\u6e90",g.default.createElement("br",null),"\u5e76\u7981\u6b62\u65b0MT4\u8d26\u53f7\u8ddf\u5355\uff1f"))},p=function(){return g.default.createElement(_.default,{title:"\u663e\u793a\u4fe1\u53f7\u6e90",width:350,visible:l,onCancel:e.handleShowModalCancel,onOk:e.handleShowModalOk},g.default.createElement("span",null,"\u5728\u7528\u6237\u9875\u9762\u663e\u793a\u8be5\u4fe1\u53f7\u6e90",g.default.createElement("br",null),"\u5e76\u5f00\u542fMT4\u8d26\u53f7\u8ddf\u5355\uff1f"))},h=function(){var t=i.find(function(e){return e.id===s});return g.default.createElement(_.default,{title:"\u5220\u9664\u4fe1\u53f7\u6e90",width:350,visible:n,onCancel:e.handleDeleteModalCancel,onOk:e.handleDeleteModalOk},g.default.createElement("span",null,"\u5220\u9664\u540e\u4f1a\u5f71\u54cd\u6b63\u5728\u8ddf\u5355\u7684\u7528\u6237,\u5220\u9664\u540e\u65e0\u6cd5\u627e\u56de",g.default.createElement("br",null),"\u662f\u5426\u5220\u9664",g.default.createElement("span",{className:"color-warn"},t&&t.name),"\uff1f"))};return g.default.createElement("section",{className:"signal-source"},p(),f(),h(),g.default.createElement(k.default,null),g.default.createElement("span",{className:"lh-60"},g.default.createElement(y.default,{to:"/documentary/signalSource/addstep-1"},g.default.createElement(u.default,{type:"primary"},"\u6dfb\u52a0\u4fe1\u53f7\u6e90"))),g.default.createElement(r.default,{pagination:o,columns:c,dataSource:i,style:{width:"100%",background:"#fff"}}))}}]),t}(g.Component),m=v))||m),C=M;t.default=C},"/wHq":function(e,t,a){"use strict";var n=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var r,u=n(a("kLXV")),i=n(a("jehZ")),d=n(a("2Taf")),s=n(a("vZ4D")),c=n(a("l4Ni")),o=n(a("ujKo")),f=n(a("MhPg")),p=l(a("q1tI")),h=n(a("bT3a")),m=(0,h.default)(r=function(e){function t(){return(0,d.default)(this,t),(0,c.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,f.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){return p.default.createElement(u.default,(0,i.default)({maskClosable:!1},this.props))}}]),t}(p.Component))||r,v=m;t.default=v},Cq5g:function(e,t,a){"use strict";var n=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("5NDa");var r=n(a("5rEg")),u=n(a("jehZ"));a("+L6B");var i=n(a("2/Rp"));a("Pwec");var d=n(a("CtXQ")),s=n(a("d6i3")),c=n(a("1l/V")),o=n(a("2Taf")),f=n(a("vZ4D")),p=n(a("l4Ni")),h=n(a("ujKo")),m=n(a("MhPg"));a("y8nQ");var v=n(a("Vl3Y"));a("OaEy");var w,g,y,S=n(a("2fM7")),x=l(a("q1tI")),k=n(a("QqXm")),b=n(a("/wHq")),_=a("dCQc"),E=n(a("bT3a")),M=S.default.Option,C=(w=v.default.create(),w(g=(0,E.default)((y=function(e){function t(){var e;return(0,o.default)(this,t),e=(0,p.default)(this,(0,h.default)(t).call(this)),e.handleTypeChange=function(e){},e.handleServerChange=function(e){},e.handlerCancel=function(){e.setState({visible:!1})},e.checkpasshandler=function(e,t,a){t?t.length<6?a("\u5bc6\u7801\u4e0d\u80fd\u5c11\u4e8e6\u4f4d"):a():a("")},e.handleSubmit=function(t){t.preventDefault(),e.props.form.validateFields(function(){var t=(0,c.default)(s.default.mark(function t(a,n){var l,r,u,i,d;return s.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=13;break}return t.prev=1,l=n.trader_server_id,r=n.account,u=n.password,i={id:e.state.mt4_account_id,trader_server_id:l,account:r,password:u},t.next=6,(0,_.put_boss_account)({query:i});case 6:d=t.sent,d&&e.handlerCancel(),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),window.$errorHandler(t.t0)();case 13:case"end":return t.stop()}},t,null,[[1,10]])}));return function(e,a){return t.apply(this,arguments)}}())},e.state={visible:!1,isSuccessModalShow:!1,typeList:["\u535a\u68ee\uff08FA\uff09","\u535a\u68ee\uff08UA\uff09","\u5176\u4ed6"],serverList:[],id:"",mt4_account_id:""},e}return(0,m.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=(0,c.default)(s.default.mark(function e(){var t,a=this;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,_.get_tradeServerRouter_list)();case 3:t=e.sent,this.setState({serverList:t}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),window.$errorHandler(e.t0)();case 10:k.default.on("show-signal-update",function(){var e=(0,c.default)(s.default.mark(function e(t){return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.setState({id:t,visible:!0});case 2:a.get_signal_mt4Account_id();case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 11:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"componentWillUnmount",value:function(){var e=(0,c.default)(s.default.mark(function e(){return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:k.default.listeners("show-signal-update")&&k.default.removeListener("show-signal-update",function(){console.log("remove this type")}),this.setState=function(e,t){};case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"get_signal_mt4Account_id",value:function(){var e=(0,c.default)(s.default.mark(function e(){var t,a,n,l,r,u,i,d,c;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.state.id){e.next=3;break}return e.abrupt("return");case 3:return t={id:this.state.id},e.next=6,(0,_.get_signal_mt4Account_id)({params:t});case 6:if(a=e.sent,a){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,this.props.form;case 11:n=e.sent,l=n.setFieldsValue,r=n.getFieldDecorator,u=a.mt4_account,i=u.account,d=u.trader_server.id,c=a.mt4_account_id,this.setState({mt4_account_id:c}),r("account",{}),l({account:i}),r("trader_server_id",{}),l({trader_server_id:d}),e.next=25;break;case 22:e.prev=22,e.t0=e["catch"](0),window.$errorHandler(e.t0)();case 25:case"end":return e.stop()}},e,this,[[0,22]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"render",value:function(){var e=this,t=this.state,a=t.visible,n=t.isSuccessModalShow,l=t.serverList,s=t.typeList,c=this.props.form.getFieldDecorator,o={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},f=function(){return x.default.createElement(b.default,{title:"\u63d0\u793a",width:350,visible:n,footer:null},x.default.createElement("div",{className:"flex-box flex-v-box al-it-c lh-30"},x.default.createElement(d.default,{type:"check-circle",style:{fontSize:"45px",color:"#0eb20a"}}),x.default.createElement("span",null,"\u66f4\u65b0\u6210\u529f"),x.default.createElement("span",null,"xx\u8d26\u53f7\u5df2\u66f4\u65b0"),x.default.createElement("span",null,x.default.createElement(i.default,{onClick:e.editParam,style:{marginRight:"20px"}},"\u4fee\u6539\u53c2\u6570"),x.default.createElement(i.default,{onClick:function(){return e.setState({isSuccessModalShow:!1})},type:"primary"},"\u786e\u5b9a"))))};return x.default.createElement("div",null,f(),x.default.createElement(b.default,{title:"\u66f4\u65b0\u4fe1\u53f7\u6e90\u8d26\u53f7",width:450,footer:null,visible:a,onCancel:this.handlerCancel},x.default.createElement(v.default,{onSubmit:this.handleSubmit},x.default.createElement(v.default.Item,(0,u.default)({},o,{label:"\u4fe1\u53f7\u6e90\u7c7b\u578b"}),c("type",{initialValue:s[0]})(x.default.createElement(S.default,{style:{width:"100%"},disabled:!0,onChange:this.handleTypeChange},s.map(function(e,t){return x.default.createElement(M,{key:t,value:e},e)})))),x.default.createElement(v.default.Item,(0,u.default)({},o,{label:"\u670d\u52a1\u5668"}),c("trader_server_id",{})(x.default.createElement(S.default,{style:{width:"100%"},disabled:!0,onChange:this.handleServerChange},l.map(function(e,t){return x.default.createElement(M,{value:e.id,key:e.id},e.name)})))),x.default.createElement(v.default.Item,(0,u.default)({},o,{label:"MT4\u8d26\u53f7"}),c("account",{rules:[]})(x.default.createElement(r.default,{disabled:!0,placeholder:"MT4\u8d26\u53f7"}))),x.default.createElement(v.default.Item,(0,u.default)({},o,{label:"\u4ea4\u6613\u5bc6\u7801"}),c("password",{rules:[{validator:this.checkpasshandler},{required:!0,message:"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a!"}]})(x.default.createElement(r.default,{type:"password",style:{width:"100%"}}))),x.default.createElement(v.default.Item,null,x.default.createElement("div",{className:"flex-box just-c-ed"},x.default.createElement(i.default,{onClick:this.handlerCancel,style:{marginRight:"20px"}},"\u53d6\u6d88"),x.default.createElement(i.default,{type:"primary",htmlType:"submit"},"\u786e\u5b9a"))))))}}]),t}(x.Component),g=y))||g)||g),I=C;t.default=I},bT3a:function(e,t,a){"use strict";var n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;n(a("q1tI"));function l(e){var t=e.prototype.componentWillUnmount;e.prototype.componentWillUnmount=function(){t&&(console.log("componentWillUnmount",e.name),t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))),this.unmount=!0};var a=e.prototype.setState;e.prototype.setState=function(){this.unmount?console.log("cancel setState",e.name):a.call.apply(a,[this].concat(Array.prototype.slice.call(arguments)))}}var r=l;t.default=r}}]);