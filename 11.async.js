(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{"/XDU":function(e,t,a){"use strict";var n=a("u+rM"),l=a("CKcX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("g9YV");var r=n(a("wCAj"));a("+L6B");var u=n(a("2/Rp"));a("2qtc");var i=n(a("kLXV")),s=n(a("NTxs")),c=n(a("smUt")),d=n(a("o2MN")),o=n(a("Pjwa")),f=n(a("2cji")),p=n(a("sp3j")),h=n(a("vZkh")),m=n(a("+KCP"));a("OaEy");var v,w,g=n(a("2fM7")),y=l(a("q1tI")),S=n(a("lNLg")),x=n(a("mNgK")),k=a("dCQc"),_=n(a("Cq5g")),b=n(a("bT3a")),E=n(a("QqXm")),C=(g.default.Option,(0,b.default)((w=function(e){function t(){var e;return(0,o.default)(this,t),e=(0,p.default)(this,(0,h.default)(t).call(this)),e.getSignal=(0,d.default)(s.default.mark(function t(){var a,n,l,r,u,i;return s.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a={page:e.state.curPage},t.next=4,(0,k.get_boss_signal)({query:a});case 4:n=t.sent,l=n.total,r=n.data,u=[{id:1,name:"\u56fa\u5b9a"},{id:2,name:"\u500d\u6570\u8ddf\u5355"},{id:3,name:"\u8d44\u91d1\u6bd4\u4f8b"}],i=r.map(function(e){var t={0:"\u505c\u6b62",1:"\u6b63\u5e38",2:"\u9690\u85cf"},a=u.map(function(t){var a=e.signal_follow_type.find(function(e){return e.type===t.id});return"".concat(t.name,a?"(\u5f00)":"(\u5173)")});return(0,c.default)({key:e.id,time:"-",userShowTxt:t[e.status],followWayArr:a,duration:"-"},e)}),e.setState({total:l,list:i}),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),window.$errorHandler(t.t0)();case 14:case"end":return t.stop()}},t,null,[[0,11]])})),e.toEditPage=function(e){x.default.push("/documentary/signalSource/edit?id="+e)},e.showUpdate=function(e){E.default.emit("show-signal-update",e)},e.showEdit=function(){E.default.emit("show-user-edit",!0)},e.onChange=function(){var t=(0,d.default)(s.default.mark(function t(a){return s.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.setState({curPage:a});case 2:e.getSignal();case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.handleHideModalOk=(0,d.default)(s.default.mark(function t(){return s.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.put_signal_hide();case 2:e.setState({isHideModalShow:!1});case 3:case"end":return t.stop()}},t)})),e.handleHideModalCancel=function(){e.setState({isHideModalShow:!1})},e.handleShowModalOk=(0,d.default)(s.default.mark(function t(){return s.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.put_signal_show();case 2:e.setState({isShowModalShow:!1});case 3:case"end":return t.stop()}},t)})),e.handleShowModalCancel=function(){e.setState({isShowModalShow:!1})},e.handleDeleteModalOk=(0,d.default)(s.default.mark(function t(){return s.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.del_signal();case 2:e.setState({isDeleteModalShow:!1});case 3:case"end":return t.stop()}},t)})),e.handleDeleteModalCancel=function(){e.setState({isDeleteModalShow:!1})},e.state={curPage:1,isHideModalShow:!1,isShowModalShow:!1,isDeleteModalShow:!1,activeId:void 0,total:0,list:[]},e}return(0,m.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){this.getSignal()}},{key:"del_signal",value:function(){var e=(0,d.default)(s.default.mark(function e(){var t;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t={id:this.state.activeId},e.next=4,(0,k.del_signal)({query:t});case 4:e.sent,this.getSignal(),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),window.$errorHandler(e.t0)();case 11:case"end":return e.stop()}},e,this,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"put_signal_hide",value:function(){var e=(0,d.default)(s.default.mark(function e(){var t;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t={id:this.state.activeId},e.next=4,(0,k.put_signal_hide)({query:t});case 4:e.sent,this.getSignal(),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),window.$errorHandler(e.t0)();case 11:case"end":return e.stop()}},e,this,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"put_signal_show",value:function(){var e=(0,d.default)(s.default.mark(function e(){var t;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t={id:this.state.activeId},e.next=4,(0,k.put_signal_show)({query:t});case 4:e.sent,this.getSignal(),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),window.$errorHandler(e.t0)();case 11:case"end":return e.stop()}},e,this,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"render",value:function(){var e=this,t=this.state,a=t.isHideModalShow,n=t.isDeleteModalShow,l=t.isShowModalShow,s=t.list,c=t.total,d=t.activeId,o=[{title:"\u4fe1\u53f7\u6e90\u540d",dataIndex:"name",align:"center"},{title:"\u5728\u7ebf\u72b6\u6001",align:"center",dataIndex:"online",render:function(e){return y.default.createElement("span",{className:1===e?"color-success":"color-error"},1===e?"\u5728\u7ebf":0===e?"\u79bb\u7ebf":"\u6682\u65e0")}},{title:"\u7528\u6237\u5c55\u793a",dataIndex:"userShowTxt",align:"center",render:function(e,t){return y.default.createElement("span",{style:1===t.status?{color:"green"}:{}},e)}},{title:"\u8ddf\u5355\u65b9\u5f0f\u8bbe\u7f6e",align:"center",dataIndex:"followWayArr",render:function(e,t){return y.default.createElement("span",{className:"flex-box flex-v-box"},e.map(function(e,t){return y.default.createElement("span",{key:t},e)}))}},{title:"\u64cd\u4f5c",align:"center",key:"action",render:function(t,a){return y.default.createElement("span",null,y.default.createElement("a",{onClick:function(){return e.toEditPage(a.id)},href:"javascript:;",className:" cur-pointer",style:{padding:"0 10px"}},"\u4fee\u6539"),y.default.createElement("a",{onClick:function(){return e.showUpdate(a.id)},href:"javascript:;",className:"bd-lf cur-pointer",style:{padding:"0 10px"}},"\u66f4\u65b0"),y.default.createElement("a",{onClick:function(){1===a.status?e.setState({isHideModalShow:!0,activeId:a.id}):e.setState({isShowModalShow:!0,activeId:a.id})},href:"javascript:;",className:"bd-lf cur-pointer",style:{padding:"0 10px"}},1===a.status?"\u9690\u85cf":"\u5f00\u542f"),y.default.createElement("a",{onClick:function(){return e.setState({isDeleteModalShow:!0,activeId:a.id})},href:"javascript:;",className:"bd-lf cur-pointer",style:{padding:"0 10px"}},"\u5220\u9664"))}}],f={showQuickJumper:!0,defaultCurrent:1,total:c,onChange:this.onChange,style:{paddingRight:"20px"}},p=function(){return y.default.createElement(i.default,{title:"\u9690\u85cf\u4fe1\u53f7\u6e90",width:350,visible:a,onCancel:e.handleHideModalCancel,onOk:e.handleHideModalOk},y.default.createElement("span",null,"\u5728\u7528\u6237\u9875\u9762\u9690\u85cf\u8be5\u4fe1\u53f7\u6e90",y.default.createElement("br",null),"\u5e76\u7981\u6b62\u65b0MT4\u8d26\u53f7\u8ddf\u5355\uff1f"))},h=function(){return y.default.createElement(i.default,{title:"\u663e\u793a\u4fe1\u53f7\u6e90",width:350,visible:l,onCancel:e.handleShowModalCancel,onOk:e.handleShowModalOk},y.default.createElement("span",null,"\u5728\u7528\u6237\u9875\u9762\u663e\u793a\u8be5\u4fe1\u53f7\u6e90",y.default.createElement("br",null),"\u5e76\u5f00\u542fMT4\u8d26\u53f7\u8ddf\u5355\uff1f"))},m=function(){var t=s.find(function(e){return e.id===d});return y.default.createElement(i.default,{title:"\u5220\u9664\u4fe1\u53f7\u6e90",width:350,visible:n,onCancel:e.handleDeleteModalCancel,onOk:e.handleDeleteModalOk},y.default.createElement("span",null,"\u5220\u9664\u540e\u4f1a\u5f71\u54cd\u6b63\u5728\u8ddf\u5355\u7684\u7528\u6237,\u5220\u9664\u540e\u65e0\u6cd5\u627e\u56de",y.default.createElement("br",null),"\u662f\u5426\u5220\u9664",y.default.createElement("span",{className:"color-warn"},t&&t.name),"\uff1f"))};return y.default.createElement("section",{className:"signal-source"},h(),p(),m(),y.default.createElement(_.default,null),y.default.createElement("span",{className:"lh-60"},y.default.createElement(S.default,{to:"/documentary/signalSource/addstep-1"},y.default.createElement(u.default,{type:"primary"},"\u6dfb\u52a0\u4fe1\u53f7\u6e90"))),y.default.createElement(r.default,{pagination:f,columns:o,dataSource:s,style:{width:"100%",background:"#fff"}}))}}]),t}(y.Component),v=w))||v);t.default=C},Cq5g:function(e,t,a){"use strict";var n=a("u+rM"),l=a("CKcX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("5NDa");var r=n(a("5rEg")),u=n(a("U1Sa"));a("2qtc");var i=n(a("kLXV"));a("+L6B");var s=n(a("2/Rp"));a("Pwec");var c=n(a("CtXQ")),d=n(a("NTxs")),o=n(a("o2MN")),f=n(a("Pjwa")),p=n(a("2cji")),h=n(a("sp3j")),m=n(a("vZkh")),v=n(a("+KCP"));a("y8nQ");var w=n(a("Vl3Y"));a("OaEy");var g,y,S,x=n(a("2fM7")),k=l(a("q1tI")),_=n(a("QqXm")),b=a("dCQc"),E=(n(a("bT3a")),x.default.Option),C=(g=w.default.create(),g((S=function(e){function t(){var e;return(0,f.default)(this,t),e=(0,h.default)(this,(0,m.default)(t).call(this)),e.handleTypeChange=function(e){},e.handleServerChange=function(e){},e.handlerCancel=function(){e.setState({visible:!1})},e.checkpasshandler=function(e,t,a){t?t.length<6?a("\u5bc6\u7801\u4e0d\u80fd\u5c11\u4e8e6\u4f4d"):a():a("")},e.handleSubmit=function(t){t.preventDefault(),e.props.form.validateFields(function(){var t=(0,o.default)(d.default.mark(function t(a,n){var l,r,u,i,s;return d.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=13;break}return t.prev=1,l=n.trader_server_id,r=n.account,u=n.password,i={id:e.state.mt4_account_id,trader_server_id:l,account:r,password:u},t.next=6,(0,b.put_boss_account)({query:i});case 6:s=t.sent,s&&e.handlerCancel(),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),window.$errorHandler(t.t0)();case 13:case"end":return t.stop()}},t,null,[[1,10]])}));return function(e,a){return t.apply(this,arguments)}}())},e.state={visible:!1,isSuccessModalShow:!1,typeList:["\u535a\u68ee\uff08FA\uff09","\u535a\u68ee\uff08UA\uff09","\u5176\u4ed6"],serverList:[],id:"",mt4_account_id:""},e}return(0,v.default)(t,e),(0,p.default)(t,[{key:"componentDidMount",value:function(){var e=(0,o.default)(d.default.mark(function e(){var t,a=this;return d.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,b.get_tradeServerRouter_list)();case 3:t=e.sent,this.setState({serverList:t}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),window.$errorHandler(e.t0)();case 10:_.default.on("show-signal-update",function(){var e=(0,o.default)(d.default.mark(function e(t){return d.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.setState({id:t,visible:!0});case 2:a.get_signal_mt4Account_id();case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 11:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"componentWillUnmount",value:function(){var e=(0,o.default)(d.default.mark(function e(){return d.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:_.default.listeners("show-signal-update")&&_.default.removeListener("show-signal-update",function(){console.log("remove this type")}),this.setState=function(e,t){};case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"get_signal_mt4Account_id",value:function(){var e=(0,o.default)(d.default.mark(function e(){var t,a,n,l,r,u,i,s,c;return d.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.state.id){e.next=3;break}return e.abrupt("return");case 3:return t={id:this.state.id},e.next=6,(0,b.get_signal_mt4Account_id)({params:t});case 6:if(a=e.sent,a){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,this.props.form;case 11:n=e.sent,l=n.setFieldsValue,r=n.getFieldDecorator,u=a.mt4_account,i=u.account,s=u.trader_server.id,c=a.mt4_account_id,this.setState({mt4_account_id:c}),r("account",{}),l({account:i}),r("trader_server_id",{}),l({trader_server_id:s}),e.next=25;break;case 22:e.prev=22,e.t0=e["catch"](0),window.$errorHandler(e.t0)();case 25:case"end":return e.stop()}},e,this,[[0,22]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"render",value:function(){var e=this,t=this.state,a=t.visible,n=t.isSuccessModalShow,l=t.serverList,d=t.typeList,o=this.props.form.getFieldDecorator,f={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},p=function(){return k.default.createElement(i.default,{title:"\u63d0\u793a",width:350,visible:n,footer:null},k.default.createElement("div",{className:"flex-box flex-v-box al-it-c lh-30"},k.default.createElement(c.default,{type:"check-circle",style:{fontSize:"45px",color:"#0eb20a"}}),k.default.createElement("span",null,"\u66f4\u65b0\u6210\u529f"),k.default.createElement("span",null,"xx\u8d26\u53f7\u5df2\u66f4\u65b0"),k.default.createElement("span",null,k.default.createElement(s.default,{onClick:e.editParam,style:{marginRight:"20px"}},"\u4fee\u6539\u53c2\u6570"),k.default.createElement(s.default,{onClick:function(){return e.setState({isSuccessModalShow:!1})},type:"primary"},"\u786e\u5b9a"))))};return k.default.createElement("div",null,p(),k.default.createElement(i.default,{title:"\u66f4\u65b0\u4fe1\u53f7\u6e90\u8d26\u53f7",width:450,footer:null,visible:a,onCancel:this.handlerCancel},k.default.createElement(w.default,{onSubmit:this.handleSubmit},k.default.createElement(w.default.Item,(0,u.default)({},f,{label:"\u4fe1\u53f7\u6e90\u7c7b\u578b"}),o("type",{initialValue:d[0]})(k.default.createElement(x.default,{style:{width:"100%"},disabled:!0,onChange:this.handleTypeChange},d.map(function(e,t){return k.default.createElement(E,{key:t,value:e},e)})))),k.default.createElement(w.default.Item,(0,u.default)({},f,{label:"\u670d\u52a1\u5668"}),o("trader_server_id",{})(k.default.createElement(x.default,{style:{width:"100%"},disabled:!0,onChange:this.handleServerChange},l.map(function(e,t){return k.default.createElement(E,{value:e.id,key:e.id},e.name)})))),k.default.createElement(w.default.Item,(0,u.default)({},f,{label:"MT4\u8d26\u53f7"}),o("account",{rules:[]})(k.default.createElement(r.default,{disabled:!0,placeholder:"MT4\u8d26\u53f7"}))),k.default.createElement(w.default.Item,(0,u.default)({},f,{label:"\u4ea4\u6613\u5bc6\u7801"}),o("password",{rules:[{validator:this.checkpasshandler},{required:!0,message:"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a!"}]})(k.default.createElement(r.default,{type:"password",style:{width:"100%"}}))),k.default.createElement(w.default.Item,null,k.default.createElement("div",{className:"flex-box just-c-ed"},k.default.createElement(s.default,{onClick:this.handlerCancel,style:{marginRight:"20px"}},"\u53d6\u6d88"),k.default.createElement(s.default,{type:"primary",htmlType:"submit"},"\u786e\u5b9a"))))))}}]),t}(k.Component),y=S))||y),M=C;t.default=M},bT3a:function(e,t,a){"use strict";var n=a("CKcX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;n(a("q1tI"));function l(e){var t=e.prototype.componentWillUnmount;e.prototype.componentWillUnmount=function(){t&&(console.log("componentWillUnmount"),t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))),this.unmount=!0};var a=e.prototype.setState;e.prototype.setState=function(){this.unmount?console.log("cancel setState",e.name):a.call.apply(a,[this].concat(Array.prototype.slice.call(arguments)))}}var r=l;t.default=r}}]);