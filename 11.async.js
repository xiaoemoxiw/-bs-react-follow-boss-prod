(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{"/wHq":function(t,e,n){"use strict";var a=n("g09b"),c=n("tAuX");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("2qtc");var r,o=a(n("kLXV")),u=a(n("jehZ")),i=a(n("2Taf")),l=a(n("vZ4D")),s=a(n("l4Ni")),d=a(n("ujKo")),f=a(n("MhPg")),p=c(n("q1tI")),h=a(n("bT3a")),m=(0,h.default)(r=function(t){function e(){return(0,i.default)(this,e),(0,s.default)(this,(0,d.default)(e).apply(this,arguments))}return(0,f.default)(e,t),(0,l.default)(e,[{key:"render",value:function(){return p.default.createElement(o.default,(0,u.default)({maskClosable:!1},this.props))}}]),e}(p.Component))||r,v=m;e.default=v},GQMq:function(t,e,n){"use strict";var a=n("g09b"),c=n("tAuX");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("g9YV");var r,o,u=a(n("wCAj")),i=a(n("d6i3")),l=a(n("p0pE")),s=a(n("1l/V")),d=a(n("2Taf")),f=a(n("vZ4D")),p=a(n("l4Ni")),h=a(n("ujKo")),m=a(n("MhPg")),v=c(n("q1tI")),y=a(n("usdK")),g=a(n("/wHq")),w=a(n("QqXm")),b=a(n("uJMD")),k=n("dCQc"),S=a(n("bT3a")),D=(0,S.default)((o=function(t){function e(){var t;return(0,d.default)(this,e),t=(0,p.default)(this,(0,h.default)(e).call(this)),t.getAccount=(0,s.default)(i.default.mark(function e(){var n,a,c,r,o;return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n={page:t.state.curPage},e.prev=1,e.next=4,(0,k.get_user)({query:n});case 4:a=e.sent,c=a.total,r=a.data,o=r.map(function(t){return(0,l.default)({},t,{key:t.id,time:b.default.formatTime(t.created_at,"ymd"),statusText:t.status?"\u6b63\u5e38":"\u505c\u7528",isBan:!t.status,checkedAccount:t.mt4_account.map(function(t){return t.account}).join(",")})}),t.setState({tableData:o,total:c}),e.next=12;break;case 10:e.prev=10,e.t0=e["catch"](1);case 12:case"end":return e.stop()}},e,null,[[1,10]])})),t.addNewUser=function(){w.default.emit("show-user-add",!0)},t.toDetail=function(t){y.default.push({pathname:"/documentary/FollowUserManage/FollowUserManageDetail",query:{id:t}})},t.showEdit=function(t){w.default.emit("show-user-edit",(0,l.default)({bool:!0},t))},t.onChange=function(){var e=(0,s.default)(i.default.mark(function e(n){return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.setState({curPage:n});case 2:t.getAccount();case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),t.handlerBanModalOk=(0,s.default)(i.default.mark(function e(){var n,a,c;return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n=t.state.curSelectAccount.id,e.next=4,(0,k.del_user)({query:{id:n}});case 4:e.sent,a=b.default.deepCopy(t.state.tableData),c=a.findIndex(function(t){return t.id===n}),a[c]=Object.assign({},a[c],{status:0,statusText:"\u505c\u7528",isBan:!0}),t.setState({isBanModalShow:!1,tableData:a}),e.next=13;break;case 11:e.prev=11,e.t0=e["catch"](0);case 13:case"end":return e.stop()}},e,null,[[0,11]])})),t.handlerDeBanModalOk=(0,s.default)(i.default.mark(function e(){var n,a,c;return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n=t.state.curSelectAccount.id,e.next=4,(0,k.put_user_renew)({query:{id:n}});case 4:e.sent,a=b.default.deepCopy(t.state.tableData),c=a.findIndex(function(t){return t.id===n}),a[c]=Object.assign({},a[c],{status:1,statusText:"\u6b63\u5e38",isBan:!1}),t.setState({isDeBanModalShow:!1,tableData:a}),e.next=13;break;case 11:e.prev=11,e.t0=e["catch"](0);case 13:case"end":return e.stop()}},e,null,[[0,11]])})),t.handlerAccountModal=function(e){e.isBan?t.setState({isDeBanModalShow:!0,curSelectAccount:e}):t.setState({isBanModalShow:!0,curSelectAccount:e})},t.state={curPage:1,isBanModalShow:!1,isDeBanModalShow:!1,tableData:[],curSelectAccount:void 0,total:0},t}return(0,m.default)(e,t),(0,f.default)(e,[{key:"componentDidMount",value:function(){var t=(0,s.default)(i.default.mark(function t(){var e=this;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.getAccount(),w.default.on("add-user-success",function(){e.getAccount()});case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"render",value:function(){var t=this,e=this.state,n=e.isBanModalShow,a=e.isDeBanModalShow,c=e.tableData,r=e.total,o=e.curSelectAccount,i=[{title:"\u624b\u673a",dataIndex:"tel",align:"center"},{title:"\u8fc7\u5ba1MT4\u8d26\u53f7",dataIndex:"checkedAccount",align:"center",render:function(t){return v.default.createElement("span",null,t||"--")}},{title:"\u64cd\u4f5c",align:"center",key:"action",render:function(e,n){return v.default.createElement("span",null,v.default.createElement("a",{onClick:function(){return t.toDetail(n.key)},href:"javascript:;",className:"cur-pointer",style:{padding:"0 10px"}},"\u7ba1\u7406\u8ddf\u5355"))}}],l={showQuickJumper:!0,defaultCurrent:1,total:r,onChange:this.onChange,style:{paddingRight:"20px"}},s=function(){return v.default.createElement(g.default,{title:"\u5c01\u53f7",width:350,visible:n,onCancel:function(){return t.setState({isBanModalShow:!1})},onOk:t.handlerBanModalOk},v.default.createElement("span",null,"\u5c01\u6389",v.default.createElement("span",{className:"color-error"},o&&o.tel,"?")))},d=function(){return v.default.createElement(g.default,{title:"\u89e3\u5c01",width:350,visible:a,onCancel:function(){return t.setState({isDeBanModalShow:!1})},onOk:t.handlerDeBanModalOk},v.default.createElement("span",null,"\u89e3\u5c01",v.default.createElement("span",{className:"color-error"},o&&o.tel,"?")))};return v.default.createElement("section",null,s(),d(),v.default.createElement(u.default,{pagination:l,columns:i,dataSource:c,style:{width:"100%",background:"#fff"}}))}}]),e}(v.Component),r=o))||r,M=D;e.default=M},bT3a:function(t,e,n){"use strict";var a=n("tAuX");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;a(n("q1tI"));function c(t){var e=t.prototype.componentWillUnmount;t.prototype.componentWillUnmount=function(){e&&(console.log("componentWillUnmount",t.name),e.call.apply(e,[this].concat(Array.prototype.slice.call(arguments)))),this.unmount=!0};var n=t.prototype.setState;t.prototype.setState=function(){this.unmount?console.log("cancel setState",t.name):n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments)))}}var r=c;e.default=r},uJMD:function(t,e,n){"use strict";var a=n("g09b");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=a(n("2Taf")),r=a(n("vZ4D")),o=function(){function t(){var e=this;(0,c.default)(this,t),this.formatTime=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ymdhms",n=function(t){return t<10?"0"+t:""+t};t.toString().includes("-")&&(t=t.replace(/-/g,"/"));var a=new Date(t),c=a.getFullYear(),r=a.getMonth()+1;r=n(r);var o=a.getDate();o=n(o);var u=a.getHours();u=n(u);var i=a.getMinutes();i=n(i);var l=a.getSeconds();l=n(l);var s=a.getDay(),d={timeStamp:a.getTime(),ymdhms:"".concat(c,"-").concat(r,"-").concat(o," ").concat(u,":").concat(i,":").concat(l),ymdhm:"".concat(c,"-").concat(r,"-").concat(o," ").concat(u,":").concat(i),ymdh:"".concat(c,"-").concat(r,"-").concat(o," ").concat(u),ymd:"".concat(c,"-").concat(r,"-").concat(o),_mdhm:"".concat(r,":").concat(o,":").concat(u,":").concat(i),hmin:"".concat(u,":").concat(i),ymd_zn:"".concat(c,"\u5e74").concat(r,"\u6708").concat(o,"\u65e5"),ym_zn:"".concat(c,"\u5e74").concat(r,"\u6708"),ymdhms_ios:"".concat(c,"/").concat(r,"/").concat(o," ").concat(u,":").concat(i,":").concat(l),ymdhm_ios:"".concat(c,"/").concat(r,"/").concat(o," ").concat(u,":").concat(i),ymdh_ios:"".concat(c,"/").concat(r,"/").concat(o," ").concat(u),ymd_ios:"".concat(c,"/").concat(r,"/").concat(o),timeObj:{timeStamp:a,year:c,month:r,date:o,hour:u,min:i,day:s}};try{return d[e]}catch(t){throw new Error("\u65f6\u95f4\u683c\u5f0f\u5316\u7c7b\u578b\u4e0d\u5bf9")}},this.checkUserAgent=function(){var t;return t=/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?"ios":/(Android)/i.test(navigator.userAgent)?"android":"pc",t},this.guid=function(){function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},this.getOneWeekData=function(t){var n=new Date(t).getTime(),a=function(t){var a=n+3600*t*24*1e3;return e.formatTime(a,"timeObj")},c=[-3,-2,-1,0,1,2,3],r=c.map(function(t){var n=a(t),c=e.formatTime(new Date,"timeObj");return n.year===c.year&&n.month===c.month&&n.date===c.date?Object.assign(n,{day_zn:"\u4eca\u5929"}):Object.assign(n,e.invNumber2ZN(n))});return r},this.getFrontHour=function(t,n){var a=t+3600*n*1e3;return e.formatTime(a,"timeObj")},this.invNumber2ZN=function(t){var e={0:"\u5468\u65e5",1:"\u5468\u4e00",2:"\u5468\u4e8c",3:"\u5468\u4e09",4:"\u5468\u56db",5:"\u5468\u4e94",6:"\u5468\u516d"};return{day_zn:e[t.day]}},this.throttle=function(t,e){var n,a;return function(c){var r=this,o=+new Date;n&&Math.abs(+new Date-o)<e?(clearTimeout(a),a=setTimeout(function(){n=+new Date,t.apply(r,c)},e)):(n=+new Date,t.apply(this,c))}},this.checkIfEual=function(t,n){var a=function(t){return Object.prototype.toString.call(t).slice(8,-1)};if(a(t)!==a(n))return!1;if("object"!==typeof t)return t===n;if("Object"===a(t)){var c=Object.values(t),r=Object.values(n);return c.length===r.length&&Object.keys(t).every(function(a){if("object"!==typeof t[a])return t[a]===n[a];e.checkIfEual(t[a],n[a])})}if("Array"===a(t)){var o=t.length,u=n.length;if(o!==u)return!1;for(var i=0;i<o;i++){if("object"===typeof t[i])return e.checkIfEual(t[i],n[i]);if(t[i]!==n[i])return!1}return!0}},this.deepCopy=function(t){var n=function(t){return"object"===typeof t===!0},a=function(t){return Object.prototype.toString.call(t).slice(8,-1)},c=void 0;if(n){if("Array"===a(t)){c=[];for(var r=0;r<t.length;r++)n(t[r])?c[r]=e.deepCopy(t[r]):c[r]=t[r]}if("Object"===a(t))for(var o in c={},t)n(t[o])?c[o]=e.deepCopy(t[o]):c[o]=t[o]}else c=t;return c}}return(0,r.default)(t,[{key:"sortHourAndMin",value:function(t,e){var n=t.replace(/:/g,""),a=e.replace(/:/g,""),c=n-a;return c}}]),t}(),u=function(){var t;return function(){return t||(t=new o),t}}()(),i=u;e.default=i}}]);